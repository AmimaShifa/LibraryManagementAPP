<div>
    <h4>Add new book record</h4>
    <form #bookForm="ngForm" (ngSubmit)="onSubmit(bookForm)">
      <div class="form-group">
         <label>Book Name</label>
         <input class="form-control" name="name" #name="ngModel" 
          [(ngModel)]="book.name" placeholder="Book Name" required>
      </div>
  
      <div class="form-group">
        <label>Author</label>
        <input class="form-control" name="author" #name="ngModel" 
          [(ngModel)]="book.author" placeholder="Author" required>
      </div>
  
       <div class="form-group">
         <label>Genre</label>
         <select class="form-control" name="genre" #name=ngModel 
           [(ngModel)]="book.genre">
            <option value="Novel">Novel</option>
            <option value="Non Fiction">Non Fiction</option>
            <option value="Biography">Biography</option>
         </select>
        </div>
  
        <div class="form-group">
          <label>Price</label>
          <div class="input-group">
             <div class="input-group-addon">
                 <i class="bi bi-currency-dollar"></i>
             </div>
             <input class="form-control" name="price" #name="ngModel" 
               [(ngModel)]="book.price" placeholder="Price" required>
              </div>
          </div>
  
          <div class="form-group float-right">
             <button type="submit" class="btn btn-success" 
               [disabled]="!bookForm.valid" [disabled]="bookForm.invalid">
                <i class="bi bi-plus"></i>Add Book</button>
          </div>
      </form>
  </div>
  <table class="table table-striped">
    <thead>
     <tr>
       <th scope="col">#</th>
       <th scope="col">Name</th>
       <th scope="col">Author</th>
       <th scope="col">Genres</th>
       <th scope="col">Price</th>
       <th scope="col">Edit</th>
       <th scope="col">Delete</th>
     </tr>
    </thead>
    <tbody *ngIf="books">
      <tr *ngFor="let book of books; index as i">
        <th scope="row">{{ i+1 }}</th>
        <td>{{ book.name }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.genre }}</td>
        <td>{{ book.price }}</td>
        <td>
          <i class="bi bi-pencil-square" style="color: green;" 
             (click)="editModal(book)"></i>
        </td>
        <td>
          <i class="bi bi-trash" (click)="deleteBook(book)" style="color: red;"></i>
        </td>
      </tr>
     </tbody>
  </table>
  <div *ngIf="book" class="container">
    <h4>Edit book record</h4>
    <form #bookForm="ngForm" (ngSubmit)="onUpdate()">
      <div class="form-group">
        <label>Book Name</label>
        <input class="form-control" name="name" #nameCtrl="ngModel" 
          [(ngModel)]="book.name" placeholder="Book Name" required>
      </div>
  
      <div class="form-group">
        <label>Author</label>
        <input class="form-control" name="author" #authorCtrl="ngModel" 
          [(ngModel)]="book.author" placeholder="Author" required>
      </div>
  
      <div class="form-group">
        <label>Genre</label>
        <select class="form-control" name="genre" #genreCtrl=ngModel 
          [(ngModel)]="book.genre">
          <option value="Novel">Novel</option>
          <option value="Non Fiction">Non Fiction</option>
          <option value="Biography">Biography</option>
        </select>
      </div>
  
      <div class="form-group">
        <label>Price</label>
        <div class="input-group">
          <div class="input-group-addon">
             <i class="bi bi-currency-dollar"></i>
          </div>
          <input class="form-control" name="price" #priceCtrl="ngModel" 
             (blur)="setPrice(book, priceCtrl.value)"
             [(ngModel)]="book.price" placeholder="Price" required>
         </div>
      </div>
  
      <div class="form-group float-right">
       <button type="submit" class="btn btn-success" [disabled]="!bookForm.valid">
          <i class="bi bi-plus"></i>Update Book</button>
       </div>
    </form>
  </div>